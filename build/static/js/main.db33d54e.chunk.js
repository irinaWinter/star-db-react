(this["webpackJsonpstar-db-react"]=this["webpackJsonpstar-db-react"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,r){},,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(10),c=r.n(s),i=r(3),o=r(4),l=r(6),u=r(5),d=(r(15),r(0)),h=function(){return Object(d.jsxs)("div",{className:"header d-flex",children:[Object(d.jsx)("h3",{children:Object(d.jsx)("a",{href:"#",children:"Star DB"})}),Object(d.jsxs)("ul",{className:"d-flex",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#",children:"People"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#",children:"Planets"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#",children:"Starships"})})]})]})},j=r(2),p=r.n(j),m=r(7),b=function e(){var t=this;Object(i.a)(this,e),this._apiBase="https://swapi.dev/api",this._imageBase="https://starwars-visualguide.com/assets/img",this.getResource=function(){var e=Object(m.a)(p.a.mark((function e(r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(r));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(r,", received ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(m.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(m.a)(p.a.mark((function e(r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(m.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(m.a)(p.a.mark((function e(r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllStarships=Object(m.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return r=e.sent,e.abrupt("return",r.results.map(t._transformStarship));case 4:case"end":return e.stop()}}),e)}))),this.getStarship=function(){var e=Object(m.a)(p.a.mark((function e(r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(r,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImage=function(e){var r=e.id;return"".concat(t._imageBase,"/characters/").concat(r,".jpg")},this.getStarshipImage=function(e){var r=e.id;return"".concat(t._imageBase,"/starships/").concat(r,".jpg")},this.getPlanetImage=function(e){var r=e.id;return"".concat(t._imageBase,"/planets/").concat(r,".jpg")},this._extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this._transformPlanet=function(e){return{id:t._extractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this._transformStarship=function(e){return{id:t._extractId(e),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargoCapacity}},this._transformPerson=function(e){return{id:t._extractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color}}},f=(r(18),function(){return Object(d.jsx)("div",{className:"loadingio-spinner-double-ring-cddhxrtz4nj",children:Object(d.jsxs)("div",{className:"ldio-qaelsbh54cf",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{})}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{})})]})})}),O=function(){return Object(d.jsxs)("div",{className:"error-indicator",children:[Object(d.jsx)("span",{className:"boom",children:"BOOM!"}),Object(d.jsx)("span",{children:"something has gone terribly wrong"}),Object(d.jsx)("span",{children:"(but we alredy sent droids to fix it)"})]})},g=(r(19),n.Component,function(e){var t=e.planet,r=t.id,n=t.name,s=t.population,c=t.rotationPeriod,i=t.diameter;return Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(r,".jpg"),alt:n}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{children:n}),Object(d.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(d.jsxs)("li",{className:"list-group-item",children:[Object(d.jsx)("span",{className:"term",children:"Population"}),Object(d.jsx)("span",{children:s})]}),Object(d.jsxs)("li",{className:"list-group-item",children:[Object(d.jsx)("span",{className:"term",children:"Rotation Period"}),Object(d.jsx)("span",{children:c})]}),Object(d.jsxs)("li",{className:"list-group-item",children:[Object(d.jsx)("span",{className:"term",children:"Diameter"}),Object(d.jsx)("span",{children:i})]})]})]})]})}),x=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(o.a)(r,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(d.jsx)(O,{}):this.props.children}}]),r}(n.Component),v=function(e){var t=e.left,r=e.right;return Object(d.jsxs)("div",{className:"row mb2",children:[Object(d.jsx)("div",{className:"col-md-6",children:t}),Object(d.jsx)("div",{className:"col-md-6",children:r})]})},w=r(9),y=function(e,t){return function(r){Object(l.a)(a,r);var n=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).state={data:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;t().then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var t=this.state.data;return t?Object(d.jsx)(e,Object(w.a)(Object(w.a)({},this.props),{},{data:t})):Object(d.jsx)(f,{})}}]),a}(n.Component)},I=(r(20),y((function(e){var t=e.data,r=e.onItemSelected,n=e.children,a=t.map((function(e){var t=e.id,a=n(e);return Object(d.jsx)("li",{className:"list-group-item",onClick:function(){return r(t)},children:a},t)}));return Object(d.jsx)("ul",{className:"item-list list-group",children:a})}),(new b).getAllPeople)),N=(r(21),r(22),function(e){var t=e.item,r=e.field,n=e.label;return Object(d.jsxs)("li",{className:"list-group-item",children:[Object(d.jsx)("span",{className:"term",children:n}),Object(d.jsx)("span",{children:t[r]})]})}),P=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).swapiService=new b,e.state={item:null,image:null},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItem()}},{key:"updateItem",value:function(){var e=this,t=this.props,r=t.itemId,n=t.getData,a=t.getImageUrl;n(r).then((function(t){e.setState({item:t,image:a(t)})}))}},{key:"render",value:function(){var e=this.state,t=e.item,r=e.image;if(!t)return null;t.id;var n=t.name;t.gender,t.birthYear,t.eyeColor;return Object(d.jsxs)("div",{className:"item-details card",children:[Object(d.jsx)("img",{className:"item-image",src:r,alt:n}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h4",{children:n}),Object(d.jsx)("ul",{className:"list-group list-group-flush",children:a.a.Children.map(this.props.children,(function(e){return a.a.cloneElement(e,{item:t})}))})]})]})}}]),r}(n.Component),_=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).swapiService=new b,e.state={showRandomPlanet:!0,hasError:!1},e.toggleRandomPlanet=function(){},e}return Object(o.a)(r,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){if(this.state.hasError)return Object(d.jsx)(O,{});this.state.showRandomPlanet;var e=this.swapiService,t=e.getPerson,r=e.getStarship,n=e.getPersonImage,a=e.getStarshipImage,s=e.getAllPeople,c=e.getAllPlanets,i=Object(d.jsxs)(P,{itemId:11,getData:t,getImageUrl:n,children:[Object(d.jsx)(N,{field:"gender",label:"Gender"}),Object(d.jsx)(N,{field:"eyeColor",label:"Eye Color"})]}),o=Object(d.jsxs)(P,{itemId:5,getData:r,getImageUrl:a,children:[Object(d.jsx)(N,{field:"model",label:"Model"}),Object(d.jsx)(N,{field:"length",label:"Length"}),Object(d.jsx)(N,{field:"costInCredits",label:"Cost"})]});return Object(d.jsx)(x,{children:Object(d.jsxs)("div",{className:"stardb-app",children:[Object(d.jsx)(h,{}),Object(d.jsx)(v,{left:i,right:o}),Object(d.jsx)(I,{getData:s,onItemSelected:function(){},children:function(e){var t=e.name;return Object(d.jsx)("span",{children:t})}}),Object(d.jsx)(I,{getData:c,onItemSelected:function(){},children:function(e){var t=e.name;return Object(d.jsx)("span",{children:t})}})]})})}}]),r}(n.Component);c.a.render(Object(d.jsx)(_,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.db33d54e.chunk.js.map